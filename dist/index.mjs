function t(t){return Array.isArray?Array.isArray(t):"[object Array]"===l(t)}const e=1/0;function n(t){return null==t?"":function(t){if("string"==typeof t)return t;let n=`${t}`;return"0"===n&&1/t==-e?"-0":n}(t)}function s(t){return"string"==typeof t}function r(t){return"number"==typeof t}function i(t){return!0===t||!1===t||function(t){return o(t)&&null!==t}(t)&&"[object Boolean]"===l(t)}function o(t){return"object"==typeof t}function a(t){return null!=t}function c(t){return!t.trim().length}function l(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const h=t=>`Missing ${t} property in key`,d=t=>`Property 'weight' in key '${t}' must be a positive integer`,u=Object.prototype.hasOwnProperty;class p{constructor(t){this._keys=[],this._keyMap={};let e=0;for(const n of t){let t=f(n);this._keys.push(t),this._keyMap[t.id]=t,e+=t.weight}for(const t of this._keys)t.weight/=e}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function f(e){let n=null,r=null,i=null,o=1,a=null;if(s(e)||t(e))i=e,n=g(e),r=m(e);else{if(!u.call(e,"name"))throw new Error(h("name"));const t=e.name;if(i=t,u.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(d(t));n=g(t),r=m(t),a=e.getFn}return{path:n,id:r,weight:o,src:i,getFn:a}}function g(e){return t(e)?e:e.split(".")}function m(e){return t(e)?e.join("."):e}let x={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,o){let c=[],l=!1;const h=(e,o,d)=>{if(a(e))if(o[d]){const u=e[o[d]];if(!a(u))return;if(d===o.length-1&&(s(u)||r(u)||i(u)))c.push(n(u));else if(t(u)){l=!0;for(let t=0,e=u.length;t<e;t+=1)h(u[t],o,d+1)}else o.length&&h(u,o,d+1)}else c.push(e)};return h(e,s(o)?o.split("."):o,0),l?c:c[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const b=/[^ ]+/g;class y{constructor({getFn:t=x.getFn,fieldNormWeight:e=x.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,s=10**e;return{get(e){const r=e.match(b).length;if(n.has(r))return n.get(r);const i=1/r**(.5*t),o=Number.parseFloat(Math.round(i*s)/s);return n.set(r,o),o},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,s(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();s(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!a(t)||c(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach(((n,i)=>{let o=n.getFn?n.getFn(e):this.getFn(e,n.path);if(a(o))if(t(o)){let e=[];const n=[{nestedArrIndex:-1,value:o}];for(;n.length;){const{nestedArrIndex:r,value:i}=n.pop();if(a(i))if(s(i)&&!c(i)){let t={v:i,i:r,n:this.norm.get(i)};e.push(t)}else t(i)&&i.forEach(((t,e)=>{n.push({nestedArrIndex:e,value:t})}))}r.$[i]=e}else if(s(o)&&!c(o)){let t={v:o,n:this.norm.get(o)};r.$[i]=t}})),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function w(t,e,{getFn:n=x.getFn,fieldNormWeight:s=x.fieldNormWeight}={}){const r=new y({getFn:n,fieldNormWeight:s});return r.setKeys(t.map(f)),r.setSources(e),r.create(),r}function v(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:r=x.distance,ignoreLocation:i=x.ignoreLocation}={}){const o=e/t.length;if(i)return o;const a=Math.abs(s-n);return r?o+a/r:a?1:o}const k=32;function M(t,e,n,{location:s=x.location,distance:r=x.distance,threshold:i=x.threshold,findAllMatches:o=x.findAllMatches,minMatchCharLength:a=x.minMatchCharLength,includeMatches:c=x.includeMatches,ignoreLocation:l=x.ignoreLocation}={}){if(e.length>k)throw new Error(`Pattern length exceeds max of ${k}.`);const h=e.length,d=t.length,u=Math.max(0,Math.min(s,d));let p=i,f=u;const g=a>1||c,m=g?Array(d):[];let b;for(;(b=t.indexOf(e,f))>-1;){let t=v(e,{currentLocation:b,expectedLocation:u,distance:r,ignoreLocation:l});if(p=Math.min(t,p),f=b+h,g){let t=0;for(;t<h;)m[b+t]=1,t+=1}}f=-1;let y=[],w=1,M=h+d;const C=1<<h-1;for(let s=0;s<h;s+=1){let i=0,a=M;for(;i<a;){v(e,{errors:s,currentLocation:u+a,expectedLocation:u,distance:r,ignoreLocation:l})<=p?i=a:M=a,a=Math.floor((M-i)/2+i)}M=a;let c=Math.max(1,u-a+1),x=o?d:Math.min(u+a,d)+h,b=Array(x+2);b[x+1]=(1<<s)-1;for(let i=x;i>=c;i-=1){let o=i-1,a=n[t.charAt(o)];if(g&&(m[o]=+!!a),b[i]=(b[i+1]<<1|1)&a,s&&(b[i]|=(y[i+1]|y[i])<<1|1|y[i+1]),b[i]&C&&(w=v(e,{errors:s,currentLocation:o,expectedLocation:u,distance:r,ignoreLocation:l}),w<=p)){if(p=w,f=o,f<=u)break;c=Math.max(1,2*u-f)}}if(v(e,{errors:s+1,currentLocation:u,expectedLocation:u,distance:r,ignoreLocation:l})>p)break;y=b}const L={isMatch:f>=0,score:Math.max(.001,w)};if(g){const t=function(t=[],e=x.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let o=t.length;i<o;i+=1){let o=t[i];o&&-1===s?s=i:o||-1===s||(r=i-1,r-s+1>=e&&n.push([s,r]),s=-1)}return t[i-1]&&i-s>=e&&n.push([s,i-1]),n}(m,a);t.length?c&&(L.indices=t):L.isMatch=!1}return L}function C(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const r=t.charAt(n);e[r]=(e[r]||0)|1<<s-n-1}return e}class L{constructor(t,{location:e=x.location,threshold:n=x.threshold,distance:s=x.distance,includeMatches:r=x.includeMatches,findAllMatches:i=x.findAllMatches,minMatchCharLength:o=x.minMatchCharLength,isCaseSensitive:a=x.isCaseSensitive,ignoreLocation:c=x.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:C(t),startIndex:e})},h=this.pattern.length;if(h>k){let t=0;const e=h%k,n=h-e;for(;t<n;)l(this.pattern.substr(t,k),t),t+=k;if(e){const t=h-k;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:r,threshold:i,findAllMatches:o,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],h=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:u,startIndex:p})=>{const{isMatch:f,score:g,indices:m}=M(t,e,u,{location:s+p,distance:r,threshold:i,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});f&&(d=!0),h+=g,f&&m&&(l=[...l,...m])}));let u={isMatch:d,score:d?h/this.chunks.length:1};return d&&n&&(u.indices=l),u}}class N{constructor(t){this.pattern=t}static isMultiMatch(t){return E(t,this.multiRegex)}static isSingleMatch(t){return E(t,this.singleRegex)}search(){}}function E(t,e){const n=t.match(e);return n?n[1]:null}class S extends N{constructor(t,{location:e=x.location,threshold:n=x.threshold,distance:s=x.distance,includeMatches:r=x.includeMatches,findAllMatches:i=x.findAllMatches,minMatchCharLength:o=x.minMatchCharLength,isCaseSensitive:a=x.isCaseSensitive,ignoreLocation:c=x.ignoreLocation}={}){super(t),this._bitapSearch=new L(t,{location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class _ extends N{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const s=[],r=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+r,s.push([e,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const A=[class extends N{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},_,class extends N{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends N{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends N{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends N{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends N{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},S],$=A.length,I=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const z=new Set([S.type,_.type]);class F{constructor(t,{isCaseSensitive:e=x.isCaseSensitive,includeMatches:n=x.includeMatches,minMatchCharLength:s=x.minMatchCharLength,ignoreLocation:r=x.ignoreLocation,findAllMatches:i=x.findAllMatches,location:o=x.location,threshold:a=x.threshold,distance:c=x.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:s,findAllMatches:i,ignoreLocation:r,location:o,threshold:a,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(I).filter((t=>t&&!!t.trim())),s=[];for(let t=0,r=n.length;t<r;t+=1){const r=n[t];let i=!1,o=-1;for(;!i&&++o<$;){const t=A[o];let n=t.isMultiMatch(r);n&&(s.push(new t(n,e)),i=!0)}if(!i)for(o=-1;++o<$;){const t=A[o];let n=t.isSingleMatch(r);if(n){s.push(new t(n,e));break}}}return s}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let r=0,i=[],o=0;for(let s=0,a=e.length;s<a;s+=1){const a=e[s];i.length=0,r=0;for(let e=0,s=a.length;e<s;e+=1){const s=a[e],{isMatch:c,indices:l,score:h}=s.search(t);if(!c){o=0,r=0,i.length=0;break}if(r+=1,o+=h,n){const t=s.constructor.type;z.has(t)?i=[...i,...l]:i.push(l)}}if(r){let t={isMatch:!0,score:o/r};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const j=[];function B(t,e){for(let n=0,s=j.length;n<s;n+=1){let s=j[n];if(s.condition(t,e))return new s(t,e)}return new L(t,e)}const O="$and",R="$or",T="$path",W="$val",P=t=>!(!t[O]&&!t[R]),D=t=>({[O]:Object.keys(t).map((e=>({[e]:t[e]})))});function H(e,n,{auto:r=!0}={}){const i=e=>{let a=Object.keys(e);const c=(t=>!!t[T])(e);if(!c&&a.length>1&&!P(e))return i(D(e));if((e=>!t(e)&&o(e)&&!P(e))(e)){const t=c?e[T]:a[0],i=c?e[W]:e[t];if(!s(i))throw new Error((t=>`Invalid value for key ${t}`)(t));const o={keyId:m(t),pattern:i};return r&&(o.searcher=B(i,n)),o}let l={children:[],operator:a[0]};return a.forEach((n=>{const s=e[n];t(s)&&s.forEach((t=>{l.children.push(i(t))}))})),l};return P(e)||(e=D(e)),i(e)}function U(t,e){const n=t.matches;e.matches=[],a(n)&&n.forEach((t=>{if(!a(t.indices)||!t.indices.length)return;const{indices:n,value:s}=t;let r={indices:n,value:s};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)}))}function V(t,e){e.score=t.score}class q{constructor(t,e={},n){this.options={...x,...e},this.options.useExtendedSearch,this._keyStore=new p(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof y))throw new Error("Incorrect 'index' type");this._myIndex=e||w(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){a(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const r=this._docs[n];t(r,n)&&(this.removeAt(n),n-=1,s-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:c}=this.options;let l=s(t)?s(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=x.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:s,score:r})=>{const i=t?t.weight:null;n*=Math.pow(0===r&&i?Number.EPSILON:r,(i||1)*(e?1:s))})),t.score=n}))}(l,{ignoreFieldNorm:c}),o&&l.sort(a),r(e)&&e>-1&&(l=l.slice(0,e)),function(t,e,{includeMatches:n=x.includeMatches,includeScore:s=x.includeScore}={}){const r=[];return n&&r.push(U),s&&r.push(V),t.map((t=>{const{idx:n}=t,s={item:e[n],refIndex:n};return r.length&&r.forEach((e=>{e(t,s)})),s}))}(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const e=B(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach((({v:t,i:n,n:r})=>{if(!a(t))return;const{isMatch:i,score:o,indices:c}=e.searchIn(t);i&&s.push({item:t,idx:n,matches:[{score:o,value:t,norm:r,indices:c}]})})),s}_searchLogical(t){const e=H(t,this.options),n=(t,e,s)=>{if(!t.children){const{keyId:n,searcher:r}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:r});return i&&i.length?[{idx:s,item:e,matches:i}]:[]}const r=[];for(let i=0,o=t.children.length;i<o;i+=1){const o=t.children[i],a=n(o,e,s);if(a.length)r.push(...a);else if(t.operator===O)return[]}return r},s=this._myIndex.records,r={},i=[];return s.forEach((({$:t,i:s})=>{if(a(t)){let o=n(e,t,s);o.length&&(r[s]||(r[s]={idx:s,item:t,matches:[]},i.push(r[s])),o.forEach((({matches:t})=>{r[s].matches.push(...t)})))}})),i}_searchObjectList(t){const e=B(t,this.options),{keys:n,records:s}=this._myIndex,r=[];return s.forEach((({$:t,i:s})=>{if(!a(t))return;let i=[];n.forEach(((n,s)=>{i.push(...this._findMatches({key:n,value:t[s],searcher:e}))})),i.length&&r.push({idx:s,item:t,matches:i})})),r}_findMatches({key:e,value:n,searcher:s}){if(!a(n))return[];let r=[];if(t(n))n.forEach((({v:t,i:n,n:i})=>{if(!a(t))return;const{isMatch:o,score:c,indices:l}=s.searchIn(t);o&&r.push({score:c,key:e,value:t,idx:n,norm:i,indices:l})}));else{const{v:t,n:i}=n,{isMatch:o,score:a,indices:c}=s.searchIn(t);o&&r.push({score:a,key:e,value:t,norm:i,indices:c})}return r}}function J(t,e){const n=e.id,s=t.sortedCol===n;return t.sortedCol=s?"":n,"int"===e.type?t.table.sort(((t,e)=>s?e[n]-t[n]:t[n]-e[n])):t.table.sort(((t,e)=>{const r=t[n]??"",i=e[n]??"";return s?i.localeCompare(r):r.localeCompare(i)}))}q.version="7.0.0",q.createIndex=w,q.parseIndex=function(t,{getFn:e=x.getFn,fieldNormWeight:n=x.fieldNormWeight}={}){const{keys:s,records:r}=t,i=new y({getFn:e,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i},q.config=x,q.parseQuery=H,function(...t){j.push(...t)}(F);const K=(t,e)=>{const[n,s]=(r=t.currentPage,i=t.size,[(r+1)*i-i,(r+1)*i]);var r,i;const o=t.table.slice(n,s);e.innerHTML="";for(const n of o){const s=document.createElement("tr");s.className=t.classes.tr;for(const e of t.head){const r=document.createElement("td");r.className=`${e.class} ${e.id} ${t.classes.tableColumn}`,r.setAttribute("data-type",e.type);const i=n[e.id]??"",o=G(i,e.type,t.locale),a=new DocumentFragment;if(e.icon&&a.appendChild(Q(e.icon,n[e.icon.id]??"")),a.appendChild(document.createTextNode(o)),e.link){const s=document.createElement("a");s.className=t.classes.tableCellLink,s.href=`${e.link.base?e.link.base:""}${n[e.link.id]}`,s.appendChild(a),r.appendChild(s)}else r.appendChild(a);e.suffix&&""!==i&&r.appendChild(t.safeHtml(e.suffix)),s.appendChild(r)}e.appendChild(s)}},Q=(t,e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","use");return s.setAttribute("href",`${t.base}${e}`),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#${e}`),n.setAttribute("class",t.class),n.appendChild(s),n},G=(t,e,n)=>"int"===e?new Intl.NumberFormat(n).format(t):t,X={pagination:"",sortArrow:"",arrowUp:"absolute right-2 top-0.5 text-sm",arrowDown:"absolute right-2 bottom-0.5 text-sm",paginationButton:"w-10 h-10 inline-flex justify-center items-center border dark:border-stone-900",paginationButtonCurrent:"text-lg font-bold text-white",paginationNav:"relative z-0 flex mt-4 justify-center rounded-md -space-x-px dark:text-stone-300",downloadButton:"relative inline-flex items-center bg-white dark:bg-stone-700 px-2 h-10 dark:text-stone-300 ring-1 ring-inset ring-stone-400 dark:ring-stone-800 focus:z-10",downloadDropdown:"absolute left-0 z-50 -mr-1 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-stone-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",downloadDropdownButton:"text-stone-700 dark:text-stone-300 hover:dark:bg-stone-900 hover:bg-stone-200 w-full block px-4 py-2 text-sm text-left",downloadDropdownInfo:"text-center text-xs text-stone-700 dark:text-stone-300 py-2",fieldsetWrap:"block mt-8 w-full bg-gray-200 dark:bg-stone-700 text-sm font-semibold p-3 text-stone-900 dark:text-stone-300 border-b border-stone-200 dark:border-stone-500 rounded-t-lg",fieldsetFilterWrap:"mb-4 dark:bg-stone-900 border border-stone-200 dark:border-stone-950 p-2",fieldset:"mb-4 dark:bg-stone-900 border border-stone-200 dark:border-stone-950 p-2",filterContainer:"hidden sm:flex flex-col lg:w-1/5 ltr:mr-4 rtl:ml-4",filterButton:"text-sm relative px-2 py-1 my-2 w-full flex items-center justify-center cursor-pointer rounded-lg border dark:text-stone-300 dark:bg-stone-800 border-stone-200 dark:border-stone-500 shadow-sm",filterButtonActive:"bg-stone-400 dark:bg-stone-950 text-white border-stone-800",tableContainer:"flex flex-col w-full relative z-10 max-w-7xl mx-auto",tableColumn:"whitespace-nowrap px-3 py-2 text-sm text-stone-800 dark:text-stone-300 border border-stone-200 dark:border-stone-800 relative truncate max-w-[240px]",searchInput:"block w-full px-4 text-sm shadow-lg border border-stone-400 dark:border-stone-800 dark:bg-stone-700 text-stone-800 dark:text-stone-300 placeholder-stone-800 dark:placeholder-stone-100 rounded-tl-xl",searchBox:"block w-full px-4 text-sm shadow-lg border border-stone-400 dark:border-stone-800 dark:bg-stone-800 text-stone-800 dark:text-stone-300 placeholder-stone-800 dark:placeholder-stone-100",sizeSelect:"appearance-none w-full h-full px-6 bg-white dark:bg-stone-700 dark:text-stone-300 text-center ring-1 ring-inset ring-stone-400 dark:ring-stone-800 rtl:rounded-tl-lg ltr:rounded-tr-lg",tableHeader:"flex flex-row mt-8 h-10",tableCellLink:"text-white",table:"w-full",thead:"bg-stone-100 dark:bg-stone-700",tbody:"divide-y divide-stone-200 dark:divide-stone-800 bg-white dark:bg-stone-800 border border-stone-500 dark:border-none",th:"relative px-1 py-2 px-2 rtl:pr-7 ltr:text-left rtl:text-right text-sm font-semibold text-stone-900 dark:text-stone-300 cursor-pointer",tr:"dark:even:bg-stone-900",td:"whitespace-nowrap px-3 py-2 text-sm text-stone-800 dark:text-stone-300 border border-stone-200 dark:border-stone-800 relative truncate max-w-[240px]"};function Y(t){t.filters.length>0&&t.container.appendChild(function(t,e){const n=document.createElement("div");return n.className=t.classes.filterContainer,n.id="fuzzy_filters",t.filters.forEach(((s,r)=>{const i=document.createElement("div");i.className=t.classes.fieldsetWrap,i.textContent=s.name,n.appendChild(i);const o=function(t,e,n,s){const r=document.createElement("fieldset");return r.className=s.classes.fieldset,t.options.forEach(((t,i)=>{const o=function(t,e,n){const s=document.createElement("button");return s.className=`${t.filterButton} ${e.active?t.filterButtonActive:""}`,s.textContent=e.title,s.onclick=n,s}(s.classes,t,(()=>n(s,e,i)));r.appendChild(o)})),r}(s,r,e,t);n.appendChild(o)})),n}(t,Z))}function Z(t,e,n){let s=t.data;t.filters[e].options[n].active=""!==t.filters[e].options[n].values,"radio"===t.filters[e].filterType&&t.filters[e].options.forEach(((s,r)=>{r!==n&&(t.filters[e].options[r].active=!1)})),t.filters[e].options[n].active=!0;for(const e of t.filters)for(const t of e.options.filter((t=>t.active)))s=s.filter((n=>{const s=t.value.test(n[e.filterColumn]);return t.active=!0,t.inverse?!s:s}));t.currentPage=0,t.table=s,t.updateTable(),t.fuse=new q(t.table,{shouldSort:!0,includeMatches:!0,threshold:.3,location:0,distance:50,maxPatternLength:12,minMatchCharLength:1,keys:t.head.filter((t=>!1!==t.searchable)).map((t=>t.id))}),t.paginationUpdate(t);const r=document.getElementById("fuzzy_filters");t.filters.forEach(((e,n)=>{const s=r.children[2*n+1];e.options.forEach(((e,n)=>{const r=s.children[n],i=t.classes.filterButtonActive.split(" ");for(const t of i)e.active?r.classList.add(t):r.classList.remove(t)}))}))}function tt(t,e){const n="TSV"===e,s=n?"text/tsv":"application/json",r=n?"data.tsv":"data.json",i=n?(t=>`${Object.keys(t[0]).join("\t")}\n${t.map((t=>Object.values(t).join("\t"))).join("\n")}`)(t):JSON.stringify(t),o=new Blob([i],{type:s}),a=document.createElement("a");a.download=r,a.href=window.URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function et(t){const e=t.paginationNav;e.innerHTML="";const n=function(t,e,n){let s=Math.max(t-n,0),r=Math.min(t+n,e-1),i=[];s>0&&(i.push(0),s>1&&i.push("..."));for(let t=s;t<=r;t++)i.push(t);r<e-1&&(r<e-2&&i.push("..."),i.push(e-1));return i}(t.currentPage,Math.ceil(t.table.length/t.size),4),s=document.createDocumentFragment();for(const e of n){const n=nt(t,e);s.appendChild(n)}e.appendChild(s)}function nt(t,e){if("..."===e){const e=document.createElement("span");return e.className=t.classes.paginationButton,e.textContent="...",e}const n=new Intl.NumberFormat(t.locale),s=document.createElement("button");return s.textContent=n.format(e+1),s.className=`${t.classes.paginationButton} ${t.currentPage===e?t.classes.paginationButtonCurrent:""}`,s.onclick=()=>{t.currentPage=e,t.updateTable(),et(t)},s}class st{constructor(t,e,n,s){this.container=document.getElementById(t),this.data=[...e],this.table=[...e],this.searchBox,this.query="",this.sortedCol="",this.filters=s.filters??[],this.head=n,this.filteredTable=[],this.size=10,this.currentPage=1,this.pageSizes=[10,150,500,1e3,5e3],this.classes=((t={})=>{const e={...X};for(const n of Object.keys(t))n.startsWith("_")?e[n.substring(1)]=t[n]:e[n]=t[n];return e})(s.classes),this.locale=s.locale??"en",this.t=s.t??{search_placeholder:"Search"},this.vernacularNumerals=s.vernacularNumerals??!0,this.fuse=new q(this.table,{shouldSort:!0,includeMatches:!0,threshold:.3,location:0,distance:50,maxPatternLength:12,minMatchCharLength:1,keys:this.head.filter((t=>!1!==t.searchable)).map((t=>t.id))}),this.render()}setData(t){this.update((()=>{this.data=t,this.table=t,this.filteredTable=t.filter((()=>!0))}))}render=()=>{this.container.innerHTML="",Y(this);const t=document.createElement("div");t.className=this.classes.tableContainer;const e=document.createElement("div");e.className=this.classes.tableHeader,e.appendChild(function(t){const e=document.createElement("input");return e.type="search",e.id="fuzzy_search",e.placeholder=t.t?.search_placeholder??"Search",e.className=t.classes.searchInput,e.oninput=()=>{if(""!==t.searchBox.value)t.table=t.fuse.search(t.searchBox.value).slice(0,100).map((t=>t.item));else{let e=t.data;for(const n of t.filters)for(const t of n.options.filter((t=>t.active)))e=e.filter((e=>{const s=t.value.test(e[n.filterColumn]);return t.active=!0,t.inverse?!s:s}));t.table=e}t.currentPage=0,t.updateTable()},t.searchBox=e,e}(this)),e.appendChild(function(t){const e=["JSON","TSV"],n=document.createElement("details");n.className="relative",n.id="fuzzy_download_details";const s=document.createElement("summary");s.className=t.classes.downloadButton;const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("fill","none"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("stroke-width","1.5"),r.setAttribute("stroke","currentColor"),r.setAttribute("class","w-6 h-6"),r.innerHTML='<path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />',s.appendChild(r);const i=document.createElement("div");i.className=t.classes.downloadDropdown,i.innerHTML=`<p class="${t.classes.downloadDropdownInfo}">(Download current filtered dataset)</p>`;for(const n of e){const e=document.createElement("button");e.className=t.classes.downloadDropdownButton,e.textContent=n,e.onclick=()=>tt(t.table,n),i.appendChild(e)}return n.appendChild(s),n.appendChild(i),n}(this)),e.appendChild(function(t){const e=document.createElement("div");e.className="relative inline-block";const n=document.createElement("label");n.setAttribute("for","fuzzy_size_select"),n.className="sr-only",n.textContent="Select Page Size",e.appendChild(n);const s=document.createElement("select");s.id="fuzzy_size_select",s.className=t.classes.sizeSelect,e.appendChild(s);const r=new Intl.NumberFormat(t.locale);for(const e of t.pageSizes.filter((e=>e<=t.data.length))){const t=document.createElement("option");t.value=e,t.textContent=r.format(e),s.appendChild(t)}s.value=t.size,s.addEventListener("change",(e=>{t.size=e.target.value,t.paginationUpdate(),t.updateTable()}));const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("class","absolute w-4 h-4 right-1 top-1/2 -translate-y-1/2 pointer-events-none dark:text-stone-400"),i.setAttribute("fill","none"),i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("stroke","currentColor");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke-linecap","round"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("d","m19 9-7 7-7-7"),i.appendChild(o),e.appendChild(i),e}(this));const n=document.createElement("table");n.className=this.classes.table;const s=document.createElement("thead");s.className=this.classes.thead;for(const t of this.head){const e=document.createElement("th");e.className=`${this.classes.th} ${t.class}`,e.textContent=t.name;const n=document.createElement("span"),r=document.createElement("span");n.className=this.classes.arrowUp,r.className=this.classes.arrowDown,n.textContent="▲",r.textContent="▼",n.style.opacity=.35,r.style.opacity=.35,e.appendChild(n),e.appendChild(r),e.addEventListener("click",(()=>{for(const t of document.querySelectorAll("th span"))t.style.opacity=.35;e.classList.toggle("ascending")?(n.style.opacity=1,r.style.opacity=.35):(r.style.opacity=1,n.style.opacity=.35),this.table=J(this,t),this.updateTable()})),s.appendChild(e)}n.appendChild(s);const r=document.createElement("tbody");r.id="fuzzy-rows",r.className=this.classes.tbody,K(this,r),n.appendChild(r),t.appendChild(e),t.appendChild(n),function(t,e){if(!t.paginationNav){t.paginationNav=document.createElement("nav"),t.paginationNav.id="paginationNav",t.paginationNav.className=t.classes.paginationNav;const n=document.createElement("div");n.className=t.classes.tablePagination,n.id="paginationContainer",n.appendChild(t.paginationNav),e.appendChild(n)}et(t)}(this,t),this.container.append(t)};safeHtml=t=>{let e=document.createElement("div");e.innerHTML=t;for(const t of["script","iframe","link","style","object","embed"]){let n=e.getElementsByTagName(t);for(let t=n.length-1;t>=0;t--)n[t].parentNode.removeChild(n[t])}return e.firstChild};paginationUpdate=()=>et(this);updateTable=()=>K(this,document.getElementById("fuzzy-rows"))}export{st as default};
